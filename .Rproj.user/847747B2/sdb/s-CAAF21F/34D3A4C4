{
    "contents" : "\n# read in CSV data\nsetwd(\"~/GitHub/VTfootballstats/data\")\nvtds <- read.csv(dir()[1])\nvtds[,1] <- as.factor(vtds[,1]) # season\nvtds[,3] <- as.factor(vtds[,3]) # quarter\n\n# check class of each variable\nsapply(vtds[1,],class) \n\n# > names(vtds)\n# [1] \"season\"  \"opp\"     \"quarter\" \"result\"  \"top\"     \"plays\"   \"yards\"   \"outcome\"\n\n\n# some analysis\n# mean yards per drive per quarter\nypq2012 <- aggregate(yards ~ quarter + season, data=vtds, mean, subset = season==\"2012\" & quarter!=\"5\")\n\nlibrary(ggplot2)\nggplot(ypq2012, aes(x=quarter, y=yards)) + \n  geom_bar(stat=\"identity\", fill=\"orange\", color=\"black\") +\n  ggtitle(\"Mean yards per drive per quarter for 2012 season\") +\n  theme(plot.title=element_text(size=rel(1.5), face=\"bold\"))\n\n\nexcl <- c(\"1994\",\"1995\",\"1996\")\n\n# TOP stats for wins versus losses (do not include 94 - 96 seasons)\ntopwl <- aggregate(top ~ outcome + season, data=vtds, mean, \n  subset = (season != \"1994\" & season != \"1995\" & season != \"1996\" & outcome != \"tie\"))\nggplot(topwl, aes(x=season,y=top, fill=outcome)) +\n  geom_bar(stat=\"identity\",position=\"dodge\") +\n  ggtitle(\"Mean time of possession per drive per season\\nwins versus losses\") +\n  theme(plot.title=element_text(size=rel(1.5), face=\"bold\"))\n\n# TOP stats for wins versus losses (do not include 94 - 96 seasons) - total top per game per season\n## PROBLEM WITH THIS; 2011 played Clemson twice, both losses, dataset does not distinguish between these two games!\ntopwl2 <- aggregate(top ~ season + opp + outcome, data=vtds, sum, \n   subset = (season != \"1994\" & season != \"1995\" & season != \"1996\" & outcome != \"tie\"))\ntopwl3 <- aggregate(top ~ outcome + season, data=topwl2, mean)\nggplot(topwl3, aes(x=season,y=top, fill=outcome)) +\n  geom_bar(stat=\"identity\",position=\"dodge\") +\n  ggtitle(\"Mean time of possession per game per season\\nwins versus losses\") +\n  theme(plot.title=element_text(size=rel(1.5), face=\"bold\"))\n\n\n# Note: appears 1994 and 1995 do not have all games\n\ntable(vtds$outcome,vtds$season)\n\n###################################################################\n# OLD\n\n# TOP\navgTOP <- round(mean(dsData2012$top[dsData2012$top > 0])) # drop TOP = 0, take mean, round\npaste(avgTOP%/%60,\":\",avgTOP%%60,sep=\"\") # convert to minutes and seconds (rough)\ntapply(dsData2012$top,dsData2012$opp,mean) # avg TOP per game\ntapply(dsData2012$top,dsData2012$opp,sum) # total TOP per game\ntapply(dsData2012$top,dsData2012$opp,function(x){paste(sum(x)%/%60,\":\",sum(x)%%60,sep=\"\")}) # total TOP per game, converted to m:s\n\n\n\n\n# > sec <- time%%60\n# > sec\n# [1] 1\n# > sprintf(\"%02d\",sec)\n# [1] \"01\"\n# > time <- 146\n# > sec <- time%%60\n# > sec\n# [1] 26\n# > sprintf(\"%02d\",sec)\n# [1] \"26\"",
    "created" : 1371914673971.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3754775520",
    "id" : "34D3A4C4",
    "lastKnownWriteTime" : 1371996519,
    "path" : "~/GitHub/VTfootballstats/analysis/vt_fb_analysis.R",
    "properties" : {
    },
    "source_on_save" : false,
    "type" : "r_source"
}